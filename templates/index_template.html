{% extends "base_template.html" %}

{% block title %}
    Postingan Blog Saya {% if current_page > 1 %}- Halaman {{ current_page }}{% endif %}
{% endblock %}

{% block content %}
    
            <div class='latest-post-title'>
<h2>Postingan Terbaru</h2>
</div>

    {% if posts %}
        {% for post in posts %}
        
            <article class='post'>
              {% if post.labels %}
    <div class="label-line">
        <span class="label-info-th">
        {% for label in post.labels %}
            <a href="/kategori/{{ label|slugify }}.html">{{ label }}</a>
        {% endfor %}
        </span>
    </div>
    {% endif %}  
            {% if post.thumbnail_url %}
            <div class='img-thumbnail-wrap'>
<div class='img-thumbnail'>
                <img src="{{ post.thumbnail_url }}" alt="{{ post.title }} thumbnail">
            </div>
            </div>
                
            {% endif %}
                
            <div class="post-content-wrapper">
                <h2 class='post-title entry-title'><a href="{{ post.detail_url }}">{{ post.title }}</a></h2>
                
                <div class="post-snippet">
                    {{ post.parsed_content | safe }}
                
                <a class="read-more-link" href="{{ post.detail_url }}">Baca cerita &#187;</a>
            </div>
                <div class='post-info info-1'>
<span class='author-info'>
By admin
</span>
<span class='time-info'>
                    on {{ post.published }}
</span>
                </div>
        </article>
        {% endfor %}
    
        {# --- BAGIAN NAVIGASI PAGINASI --- #}
        <div class="pagination">
            {% if prev_page_url %}
                <a href="{{ prev_page_url }}">Previous</a>
            {% else %}
                <span>Previous</span>
            {% endif %}

            {% for p in range(1, total_pages + 1) %}
                {% if p == current_page %}
                    <span>{{ p }}</span>
                {% elif p == 1 %}
                    <a href="/">1</a> {# Halaman 1 selalu ke root #}
                {% else %}
                    <a href="/pages/{{ p }}.html">{{ p }}</a>
                {% endif %}
            {% endfor %}

            {% if next_page_url %}
                <a href="{{ next_page_url }}">Next</a>
            {% else %}
                <span>Next</span>
            {% endif %}
        </div>
        {# --- AKHIR BAGIAN NAVIGASI PAGINASI --- #}

    {% else %}
        <p>Tidak ada postingan yang ditemukan.</p>
    {% endif %}
{% endblock %}
